{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nconst timer = document.querySelector('#datetime-picker');\nconst button = document.querySelector(\"[data-start]\");\nconst dataDays = document.querySelector(\"[data-days]\");\nconst dataHours = document.querySelector(\"[data-hours]\");\nconst dataMinutes = document.querySelector(\"[data-minutes]\");\nconst dataSeconds = document.querySelector(\"[data-seconds]\");\n\n\n\n\nfunction switchButton(date){\n    if(date){\n    button.disabled = false;\n    timer.disabled = false;\n    button.style.backgroundColor  = \"rgb(21, 61, 236)\";\n    button.style.color = \"rgb(255, 255, 255)\"; \n    button.style.cursor = \"pointer\";\n    return;\n    }  \n    button.disabled = true;\n    timer.disabled = true;\n    button.style.backgroundColor  = \"#cfcfcf\";\n    button.style.color = \"#989898\";\n    button.style.cursor = \"default\";\n    timer.style.cursor = \"default\";\n    return;\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if(selectedDates[0] <= new Date()){\n        iziToast.warning({\n            close: true,\n            message: \"Please choose a date in the future\",\n            position: \"topRight\",\n        });\n        return;\n    }\n    userSelectedDate = selectedDates[0];\n    switchButton(selectedDates);\n    console.log(selectedDates[0]);\n  },\n};\n\nflatpickr(timer, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nbutton.addEventListener(\"click\", handleClick);\n\nfunction handleClick(){\n if(!userSelectedDate){\n  switchButton(userSelectedDate);\n  return;\n }\n const clock = setInterval(() => {\n  const diff = userSelectedDate - new Date();\n  if(diff <= 0){\n    clearInterval(clock);\n    dataSeconds.textContent = \"00\";\n    dataMinutes.textContent = \"00\";\n    dataHours.textContent = \"00\";\n    dataDays.textContent = \"00\";\n    switchButton(userSelectedDate);\n    return;\n\n  }\n  const {days , hours, minutes, seconds} = convertMs(diff);\n    dataSeconds.textContent = seconds;\n    dataMinutes.textContent = minutes;\n    dataHours.textContent = hours;\n    dataDays.textContent = days;\n    }, 1000);\n    switchButton(null);\n}"],"names":["userSelectedDate","timer","button","dataDays","dataHours","dataMinutes","dataSeconds","switchButton","date","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","handleClick","clock","diff"],"mappings":"2GASA,IAAIA,EAAmB,KACvB,MAAMC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAK3D,SAASC,EAAaC,EAAK,CACvB,GAAGA,EAAK,CACRN,EAAO,SAAW,GAClBD,EAAM,SAAW,GACjBC,EAAO,MAAM,gBAAmB,mBAChCA,EAAO,MAAM,MAAQ,qBACrBA,EAAO,MAAM,OAAS,UACtB,MACC,CACDA,EAAO,SAAW,GAClBD,EAAM,SAAW,GACjBC,EAAO,MAAM,gBAAmB,UAChCA,EAAO,MAAM,MAAQ,UACrBA,EAAO,MAAM,OAAS,UACtBD,EAAM,MAAM,OAAS,SAEzB,CAEA,MAAMQ,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,GAAGA,EAAc,CAAC,GAAK,IAAI,KAAO,CAC9BC,EAAS,QAAQ,CACb,MAAO,GACP,QAAS,qCACT,SAAU,UACtB,CAAS,EACD,MACH,CACDX,EAAmBU,EAAc,CAAC,EAClCH,EAAaG,CAAa,EAC1B,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC7B,CACH,EAEAE,EAAUX,EAAOQ,CAAO,EAExB,SAASI,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAhB,EAAO,iBAAiB,QAASiB,CAAW,EAE5C,SAASA,GAAa,CACrB,GAAG,CAACnB,EAAiB,CACpBO,EAAaP,CAAgB,EAC7B,MACA,CACD,MAAMoB,EAAQ,YAAY,IAAM,CAC/B,MAAMC,EAAOrB,EAAmB,IAAI,KACpC,GAAGqB,GAAQ,EAAE,CACX,cAAcD,CAAK,EACnBd,EAAY,YAAc,KAC1BD,EAAY,YAAc,KAC1BD,EAAU,YAAc,KACxBD,EAAS,YAAc,KACvBI,EAAaP,CAAgB,EAC7B,MAED,CACD,KAAM,CAAC,KAAAe,EAAO,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAIL,EAAUQ,CAAI,EACrDf,EAAY,YAAcY,EAC1Bb,EAAY,YAAcY,EAC1Bb,EAAU,YAAcY,EACxBb,EAAS,YAAcY,CACtB,EAAE,GAAI,EACPR,EAAa,IAAI,CACrB"}