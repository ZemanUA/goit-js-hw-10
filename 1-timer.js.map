{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nconst timer = document.querySelector('#datetime-picker');\nconst button = document.querySelector(\"[data-start]\");\nconst dataDays = document.querySelector(\"[data-days]\");\nconst dataHours = document.querySelector(\"[data-hours]\");\nconst dataMinutes = document.querySelector(\"[data-minutes]\");\nconst dataSeconds = document.querySelector(\"[data-seconds]\");\n\nlet change = null;\nbutton.disabled = true;\n\nfunction switchButton(date, change){\n    if(date && change ){\n    button.disabled = false;\n    timer.disabled = false;\n    button.style.backgroundColor  = \"rgb(21, 61, 236)\";\n    button.style.color = \"rgb(255, 255, 255)\"; \n    button.style.cursor = \"pointer\";\n    return;\n    }\n    if(date && !change ){\n    button.disabled = true;\n    timer.disabled = false;\n    button.style.backgroundColor  = \"#cfcfcf\";\n    button.style.color = \"#989898\";\n    button.style.cursor = \"default\";\n    return;\n    }\n    button.disabled = true;\n    timer.disabled = true;\n    button.style.backgroundColor  = \"#cfcfcf\";\n    button.style.color = \"#989898\";\n    button.style.cursor = \"default\";\n    timer.style.cursor = \"default\";\n    return;\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if(selectedDates[0] <= new Date()){\n        iziToast.warning({\n            close: true,\n            message: \"Please choose a date in the future\",\n            position: \"topRight\",\n        });\n          change = false;\n        switchButton(selectedDates[0], change);\n        return;\n    }\n    change = true;\n    userSelectedDate = selectedDates[0];\n    switchButton(selectedDates[0], change);\n    // console.log(selectedDates[0]);\n  },\n};\n\nflatpickr(timer, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nbutton.addEventListener(\"click\", handleClick);\n\n function addZero(value){\n  return String(value).padStart(2, '0');\n}\nfunction handleClick(){\n if(!userSelectedDate){\n  switchButton(userSelectedDate);\n  return;\n }\n const clock = setInterval(() => {\n  const diff = userSelectedDate - new Date();\n  if(diff <= 0){\n    clearInterval(clock);\n    dataSeconds.textContent = \"00\";\n    dataMinutes.textContent = \"00\";\n    dataHours.textContent = \"00\";\n    dataDays.textContent = \"00\";\n\n    switchButton(userSelectedDate);\n    return;\n\n  }\n  const {days , hours, minutes, seconds} = convertMs(diff);\n    dataSeconds.textContent = addZero(seconds);\n    dataMinutes.textContent = addZero(minutes);\n    dataHours.textContent = addZero(hours);\n    dataDays.textContent = addZero(days);\n    }, 1000);\n    switchButton(null);\n}\n\n"],"names":["userSelectedDate","timer","button","dataDays","dataHours","dataMinutes","dataSeconds","change","switchButton","date","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","handleClick","addZero","value","clock","diff"],"mappings":"2GASA,IAAIA,EAAmB,KACvB,MAAMC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAS,KACbL,EAAO,SAAW,GAElB,SAASM,EAAaC,EAAMF,EAAO,CAC/B,GAAGE,GAAQF,EAAQ,CACnBL,EAAO,SAAW,GAClBD,EAAM,SAAW,GACjBC,EAAO,MAAM,gBAAmB,mBAChCA,EAAO,MAAM,MAAQ,qBACrBA,EAAO,MAAM,OAAS,UACtB,MACC,CACD,GAAGO,GAAQ,CAACF,EAAQ,CACpBL,EAAO,SAAW,GAClBD,EAAM,SAAW,GACjBC,EAAO,MAAM,gBAAmB,UAChCA,EAAO,MAAM,MAAQ,UACrBA,EAAO,MAAM,OAAS,UACtB,MACC,CACDA,EAAO,SAAW,GAClBD,EAAM,SAAW,GACjBC,EAAO,MAAM,gBAAmB,UAChCA,EAAO,MAAM,MAAQ,UACrBA,EAAO,MAAM,OAAS,UACtBD,EAAM,MAAM,OAAS,SAEzB,CAEA,MAAMS,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,GAAGA,EAAc,CAAC,GAAK,IAAI,KAAO,CAC9BC,EAAS,QAAQ,CACb,MAAO,GACP,QAAS,qCACT,SAAU,UACtB,CAAS,EACCL,EAAS,GACXC,EAAaG,EAAc,CAAC,EAAGJ,CAAM,EACrC,MACH,CACDA,EAAS,GACTP,EAAmBW,EAAc,CAAC,EAClCH,EAAaG,EAAc,CAAC,EAAGJ,CAAM,CAEtC,CACH,EAEAM,EAAUZ,EAAOS,CAAO,EAExB,SAASI,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAjB,EAAO,iBAAiB,QAASkB,CAAW,EAE3C,SAASC,EAAQC,EAAM,CACtB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CACA,SAASF,GAAa,CACrB,GAAG,CAACpB,EAAiB,CACpBQ,EAAaR,CAAgB,EAC7B,MACA,CACD,MAAMuB,EAAQ,YAAY,IAAM,CAC/B,MAAMC,EAAOxB,EAAmB,IAAI,KACpC,GAAGwB,GAAQ,EAAE,CACX,cAAcD,CAAK,EACnBjB,EAAY,YAAc,KAC1BD,EAAY,YAAc,KAC1BD,EAAU,YAAc,KACxBD,EAAS,YAAc,KAEvBK,EAAaR,CAAgB,EAC7B,MAED,CACD,KAAM,CAAC,KAAAgB,EAAO,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAIL,EAAUU,CAAI,EACrDlB,EAAY,YAAce,EAAQF,CAAO,EACzCd,EAAY,YAAcgB,EAAQH,CAAO,EACzCd,EAAU,YAAciB,EAAQJ,CAAK,EACrCd,EAAS,YAAckB,EAAQL,CAAI,CAClC,EAAE,GAAI,EACPR,EAAa,IAAI,CACrB"}